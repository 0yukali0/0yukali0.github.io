"use strict";(self.webpackChunk_0_yukali_0_github_io=self.webpackChunk_0_yukali_0_github_io||[]).push([[7407],{5391:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>a,toc:()=>u});var t=r(4848),s=r(8453);const i={id:"ray_core_example",title:"Ray core\u7bc4\u4f8b\u4ecb\u7d39"},l="\u5b98\u65b9\u7bc4\u4f8b",a={id:"kubernetes-native/mlops/ray/core/ray_core_example",title:"Ray core\u7bc4\u4f8b\u4ecb\u7d39",description:"\u722c\u87f2\u5e73\u884c",source:"@site/docs/kubernetes-native/mlops/ray/core/example.md",sourceDirName:"kubernetes-native/mlops/ray/core",slug:"/kubernetes-native/mlops/ray/core/ray_core_example",permalink:"/docs/kubernetes-native/mlops/ray/core/ray_core_example",draft:!1,unlisted:!1,editUrl:"https://github.com/0yukali0/0yukali0.github.io/docs/kubernetes-native/mlops/ray/core/example.md",tags:[],version:"current",frontMatter:{id:"ray_core_example",title:"Ray core\u7bc4\u4f8b\u4ecb\u7d39"}},o={},u=[{value:"\u722c\u87f2\u5e73\u884c",id:"\u722c\u87f2\u5e73\u884c",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"\u5b98\u65b9\u7bc4\u4f8b",children:"\u5b98\u65b9\u7bc4\u4f8b"})}),"\n",(0,t.jsx)(n.h2,{id:"\u722c\u87f2\u5e73\u884c",children:"\u722c\u87f2\u5e73\u884c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import requests\nfrom bs4 import BeautifulSoup\n\ndef extract_links(elements, base_url, max_results=100):\n    links = []\n    for e in elements:\n        url = e["href"]\n        if "https://" not in url:\n            url = base_url + url\n        if base_url in url:\n            links.append(url)\n    return set(links[:max_results])\n\n\ndef find_links(start_url, base_url, depth=2):\n    if depth == 0:\n        return set()\n\n    page = requests.get(start_url)\n    soup = BeautifulSoup(page.content, "html.parser")\n    elements = soup.find_all("a", href=True)\n    links = extract_links(elements, base_url)\n\n    for url in links:\n        new_links = find_links(url, base_url, depth-1)\n        links = links.union(new_links)\n    return links\n\nimport ray\n@ray.remote\ndef find_links_task(start_url, base_url, depth=2):\n    return find_links(start_url, base_url, depth)\n\n# \u55ae\u6a5f\u7248 \u53ea\u67e5index\u5e95\u4e0blinkes\u5169\u5c64\u7684file\u3002\nbase = "https://docs.ray.io/en/latest/"\ndocs = base + "index.html"\nlen(find_links(docs, base))\n# \u5e73\u884c\u7248\u6aa2\u67e5core,main\u7b49\u7b49\u5e95\u4e0bindex links\u5169\u5c64\nlinks = [find_links_task.remote(f"{base}{lib}/index.html", base)\n         for lib in ["", "", "", "rllib", "tune", "serve"]]\nfor res in ray.get(links): print(len(res))\n'})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>a});var t=r(6540);const s={},i=t.createContext(s);function l(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);