"use strict";(self.webpackChunk_0yukali0=self.webpackChunk_0yukali0||[]).push([[122],{3905:(e,r,o)=>{o.d(r,{Zo:()=>k,kt:()=>m});var t=o(7294);function n(e,r,o){return r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}function p(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),o.push.apply(o,t)}return o}function a(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?p(Object(o),!0).forEach((function(r){n(e,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}function l(e,r){if(null==e)return{};var o,t,n=function(e,r){if(null==e)return{};var o,t,n={},p=Object.keys(e);for(t=0;t<p.length;t++)o=p[t],r.indexOf(o)>=0||(n[o]=e[o]);return n}(e,r);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(t=0;t<p.length;t++)o=p[t],r.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var i=t.createContext({}),c=function(e){var r=t.useContext(i),o=r;return e&&(o="function"==typeof e?e(r):a(a({},r),e)),o},k=function(e){var r=c(e.components);return t.createElement(i.Provider,{value:r},e.children)},s="mdxType",u={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},d=t.forwardRef((function(e,r){var o=e.components,n=e.mdxType,p=e.originalType,i=e.parentName,k=l(e,["components","mdxType","originalType","parentName"]),s=c(o),d=n,m=s["".concat(i,".").concat(d)]||s[d]||u[d]||p;return o?t.createElement(m,a(a({ref:r},k),{},{components:o})):t.createElement(m,a({ref:r},k))}));function m(e,r){var o=arguments,n=r&&r.mdxType;if("string"==typeof e||n){var p=o.length,a=new Array(p);a[0]=d;var l={};for(var i in r)hasOwnProperty.call(r,i)&&(l[i]=r[i]);l.originalType=e,l[s]="string"==typeof e?e:n,a[1]=l;for(var c=2;c<p;c++)a[c]=o[c];return t.createElement.apply(null,a)}return t.createElement.apply(null,o)}d.displayName="MDXCreateElement"},7299:(e,r,o)=>{o.r(r),o.d(r,{assets:()=>i,contentTitle:()=>a,default:()=>u,frontMatter:()=>p,metadata:()=>l,toc:()=>c});var t=o(7462),n=(o(7294),o(3905));const p={id:"buildzookeeper",title:"zookeeper\u53e2\u96c6\u5efa\u7acb"},a="Zookeeper\u591a\u7bc0\u9ede\u5b89\u88dd",l={unversionedId:"zookeeper/buildzookeeper",id:"zookeeper/buildzookeeper",title:"zookeeper\u53e2\u96c6\u5efa\u7acb",description:"\u8a2d\u5b9a/etc/hosts",source:"@site/docs/zookeeper/buildzookeeper.md",sourceDirName:"zookeeper",slug:"/zookeeper/buildzookeeper",permalink:"/docs/zookeeper/buildzookeeper",draft:!1,editUrl:"https://github.com/0yukali0/0yukali0.github.io/docs/zookeeper/buildzookeeper.md",tags:[],version:"current",frontMatter:{id:"buildzookeeper",title:"zookeeper\u53e2\u96c6\u5efa\u7acb"},sidebar:"tutorialSidebar",previous:{title:"linear",permalink:"/docs/spark/spark-mllib/mllib-linear"}},i={},c=[{value:"\u8a2d\u5b9a/etc/hosts",id:"\u8a2d\u5b9aetchosts",level:2},{value:"\u8a2d\u5b9a.bashrc",id:"\u8a2d\u5b9abashrc",level:2},{value:"\u4e0b\u8f09zookeeper",id:"\u4e0b\u8f09zookeeper",level:2},{value:"zoo.cfg\u914d\u7f6e\u6a94\u8a2d\u5b9a",id:"zoocfg\u914d\u7f6e\u6a94\u8a2d\u5b9a",level:2},{value:"\u5efa\u8cc7\u6599\u593e",id:"\u5efa\u8cc7\u6599\u593e",level:2},{value:"\u6bcf\u53f0\u4e3b\u6a5fmyid\u5efa\u7acb",id:"\u6bcf\u53f0\u4e3b\u6a5fmyid\u5efa\u7acb",level:2},{value:"\u8907\u88fdzookeeper\u5230\u6bcf\u53f0\u4e3b\u6a5f",id:"\u8907\u88fdzookeeper\u5230\u6bcf\u53f0\u4e3b\u6a5f",level:2},{value:"\u555f\u52d5zookeeper",id:"\u555f\u52d5zookeeper",level:2}],k={toc:c},s="wrapper";function u(e){let{components:r,...o}=e;return(0,n.kt)(s,(0,t.Z)({},k,o,{components:r,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"zookeeper\u591a\u7bc0\u9ede\u5b89\u88dd"},"Zookeeper\u591a\u7bc0\u9ede\u5b89\u88dd"),(0,n.kt)("h2",{id:"\u8a2d\u5b9aetchosts"},"\u8a2d\u5b9a/etc/hosts"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-script"},"master 192.168.50.179\nslave 192.168.50.171\n")),(0,n.kt)("h2",{id:"\u8a2d\u5b9abashrc"},"\u8a2d\u5b9a.bashrc"),(0,n.kt)("p",null,"\u914d\u7f6e\u5f8c\u8acbsource .bashrc"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64\nexport PATH=$JAVA_HOME/bin:$PATH\nexport ZOOKEEPER_HOME=/opt/zookeeper\nexport PATH=$PATH:$ZOOKEEPER_HOME/bin\n")),(0,n.kt)("h2",{id:"\u4e0b\u8f09zookeeper"},"\u4e0b\u8f09zookeeper"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-script"},"# /home/hadoop\nwget https://dlcdn.apache.org/zookeeper/zookeeper-3.9.1/apache-zookeeper-3.9.1-bin.tar.gz\ntar -zxf apache-zookeeper-3.9.1-bin.tar.gz\nmv apache-zookeeper-3.9.1-bin zookeeper\n")),(0,n.kt)("h2",{id:"zoocfg\u914d\u7f6e\u6a94\u8a2d\u5b9a"},"zoo.cfg\u914d\u7f6e\u6a94\u8a2d\u5b9a"),(0,n.kt)("p",null,"\u5efa\u7acbzoo.cfg"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"cp zoo_sample.cfg zoo.cfg\n")),(0,n.kt)("p",null,"\u6703\u5c07zookeeper\u653e\u5230",(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("em",{parentName:"strong"},"/opt")),"\uff0c\u4e26\u8a2d\u5b9azookeeper\u8cc7\u6599\u593e\u4e2d\u5275\u8cc7\u6599\u593e\u4f86\u5b58data\u8207log\u3002\n\u9700\u8981\u8a2d\u5b9azoo.cfg\uff0c\u901a\u77e5zookeeper\u914d\u7f6e"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"#data\u8207log\u8def\u5f91\u8a2d\u5b9a\ndataDir=/opt/zookeeper/data\ndataLogDir=/opt/zookeeper/logs\n\n#zookeeper port\u9810\u8a2d\u5c31\u662f2181\u5c31\u662f\u4e86...\nclientPort=2181\nmaxClientCnxns=60\nmaxSessionTimeout=30000\nminSessionTimeout=30000\n\n# zookeeper\u591a\u7bc0\u9ede\u914d\u7f6e\uff0c\u683c\u5f0f\u70baserver.myid=ip:2888:3888\n# myid\u5c0d\u61c9data/myid\u5167\u5bb9\u7684\u503c\nserver.0=master:2888:3888\nserver.1=slave:2888:3888\n")),(0,n.kt)("h2",{id:"\u5efa\u8cc7\u6599\u593e"},"\u5efa\u8cc7\u6599\u593e"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"# /home/hadoop\nmkdir zookeeper/data\nmkdir zookeeper/logs\n")),(0,n.kt)("h2",{id:"\u6bcf\u53f0\u4e3b\u6a5fmyid\u5efa\u7acb"},"\u6bcf\u53f0\u4e3b\u6a5fmyid\u5efa\u7acb"),(0,n.kt)("p",null,"\u4e3b\u6a5f1 master"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"echo 0 >> zookeeper/data/myid\n")),(0,n.kt)("p",null,"\u4e3b\u6a5f2 slave"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"echo 1 >> zookeeper/data/myid\n")),(0,n.kt)("h2",{id:"\u8907\u88fdzookeeper\u5230\u6bcf\u53f0\u4e3b\u6a5f"},"\u8907\u88fdzookeeper\u5230\u6bcf\u53f0\u4e3b\u6a5f"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"# \u6211\u6709\u8dd1ssh\u7121\u5bc6\u78bc\u767b\u5165\uff0c\u6c92\u6709\u7684\u8a71\u8acb\u7528user@ip:\u8def\u5f91\nscp -rq zookeeper slave:/home/hadoop/\nsudo mv zookeeper /opt  \n")),(0,n.kt)("h2",{id:"\u555f\u52d5zookeeper"},"\u555f\u52d5zookeeper"),(0,n.kt)("p",null,"\u6bcf\u53f0\u4e3b\u6a5f\u7686\u8dd1"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"zkServer.sh start\n")))}u.isMDXComponent=!0}}]);