---
id: leetcode_142
title: 142 find entrypoint in cycled list
---
快慢節點是否能在循環內相遇。
可以，fast可能多走幾圈。
```
slow step x + y
fast step: x + y + n * (y + z)
fast step = 2 * slow step
x + y + n * (y + z) = 2 * (x + y)
meet point: x + y = n * (y + z)
```

當相遇後，如何在進入點x相遇呢？
從公式來看當從頭一步一步走x步（抵達切入點）時，相遇點也走一步一步走z步，從相遇點回到切入點。
```
* x = (n - 1) * (y + z) + z where head
```
因此寫出如下內容，先跑階段一，在跑階段二。
```go
func detectCycle(head *ListNode) *ListNode {
    slow, fast := head, head
    for fast != nil && fast.Next != nil {
        // step 1
        slow = slow.Next
        fast = fast.Next.Next
        if fast == slow {
            // step 2
            for fast != head {
                fast = fast.Next
                head = head.Next
            }
            return head
        }
    }
    return nil
}
```